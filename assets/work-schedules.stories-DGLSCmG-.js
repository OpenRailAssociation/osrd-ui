import{r as d,R as f}from"./index-RYns6xqu.js";/* empty css              */import{u as P,S as x,a as y,O as R,P as L}from"./paths-BB683TMT.js";import{g as k}from"./vectors-BMNFZSin.js";import"./index-Cm1LdsEh.js";import"./lodash-CcdATr5u.js";import"./index-CHvE9HB5.js";const A=({timeStart:o,timeEnd:s,spaceStart:r,spaceEnd:i,imageElement:e})=>{const c=d.useCallback((t,{getSpacePixel:a,getTimePixel:l,spaceAxis:S})=>{const p=l(Number(o)),n=l(Number(s)),m=a(r),g=a(i)-m,h=n-p;if(!g||!h)return;const O=t.createPattern(e,"repeat");O&&(t.save(),t.fillStyle=O,S==="x"?(t.translate(m,p),t.fillRect(0,0,g,h)):(t.translate(p,m),t.fillRect(0,0,h,g)),t.restore())},[o,s,r,i,e]);return P("background",c),null},D=({workSchedules:o,imageUrl:s})=>{const[r,i]=d.useState();return d.useEffect(()=>{if(s){const e=new Image;e.src=s,e.onload=()=>{i(e)}}},[s]),r?o.flatMap(e=>e.spaceRanges.map(([c,t])=>f.createElement(A,{key:`${e.type}-${e.timeStart}-${e.timeEnd}-${c}-${t}`,timeStart:e.timeStart,timeEnd:e.timeEnd,spaceStart:c,spaceEnd:t,imageElement:r}))):null},v="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='56px'%20height='56px'%20viewBox='0%200%2056%2056'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3eAssets/Maintenance/ScheduledMaintenanceUp%3c/title%3e%3cg%20id='Assets/Maintenance/ScheduledMaintenanceUp'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M56,0%20L56,28%20L28,56%20L0,56%20L56,0%20Z%20M28,0%20L0,28%20L0,0%20L28,0%20Z'%20id='Shape'%20fill='%23F5F5F5'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",_=[{type:"TRACK",timeStart:new Date("2024-04-02T00:00:00Z"),timeEnd:new Date("2024-04-02T00:15:00Z"),spaceRanges:[[2e4,35e3],[45e3,6e4]]},{type:"TRACK",timeStart:new Date("2024-04-02T00:15:00Z"),timeEnd:new Date("2024-04-02T01:00:00Z"),spaceRanges:[[8e4,1e5],[11e4,14e4]]},{type:"TRACK",timeStart:new Date("2024-04-02T01:30:00Z"),timeEnd:new Date("2024-04-02T02:30:00Z"),spaceRanges:[[5e4,1e5]]}],M=550,C=({operationalPoints:o=[],paths:s=[],workSchedules:r})=>{const[i,e]=d.useState({xOffset:-300,yOffset:0,panning:null}),c=o.map(({id:a,position:l})=>({id:a,label:a,position:l})),t=[{from:0,to:75e3,coefficient:300}];return f.createElement("div",{className:"manchette-space-time-chart-wrapper",style:{height:`${M}px`}},f.createElement(x,{className:"inset-0 absolute h-full",spaceOrigin:0,xOffset:i.xOffset,yOffset:i.yOffset,timeOrigin:+new Date("2024/04/02"),operationalPoints:c,timeScale:1e4,spaceScales:t,onPan:({initialPosition:a,position:l,isPanning:S})=>{const p=k(a,l);e(n=>{if(S)if(n.panning){const{initialOffset:m}=n.panning;return{...n,xOffset:m.x+p.x,yOffset:m.y+p.y}}else return{...n,panning:{initialOffset:{x:n.xOffset,y:n.yOffset}}};else return{...n,panning:null}})}},s.map(a=>f.createElement(y,{key:a.id,path:a,color:a.color})),f.createElement(D,{workSchedules:r,imageUrl:v})))},K={title:"SpaceTimeChart/Workschedules",component:C},u={args:{operationalPoints:R,paths:L.slice(2,4),workSchedules:_}};var E,w,T;u.parameters={...u.parameters,docs:{...(E=u.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    operationalPoints: OPERATIONAL_POINTS,
    paths: PATHS.slice(2, 4),
    workSchedules: SAMPLE_WORK_SCHEDULES
  }
}`,...(T=(w=u.parameters)==null?void 0:w.docs)==null?void 0:T.source}}};const U=["Default"];export{u as Default,U as __namedExportsOrder,K as default};
