import{R as e,r as u}from"./index-RYns6xqu.js";import{c as A}from"./index-Cm1LdsEh.js";import{I as C}from"./Modal-DdkVuHxe.js";import{I as G}from"./Input-DeArfgXO.js";/* empty css              */import"./useOutsideClick-CtG5jKG-.js";import"./FieldWrapper-sNyiQ-VR.js";import"./InputStatusIcon-BgCZkodG.js";import"./index.esm-CkK1enDk.js";import"./useFocusByTab-DuF17kQm.js";const T=({onSelection:a,selectedTolerance:n,toleranceSign:r})=>e.createElement("div",{className:"tolerance-picker-section"},e.createElement("div",{className:`tolerance-grid ${r}-tolerance`},c.map(({label:s,value:i},o)=>e.createElement("button",{key:`${s}-${o}`,className:A("minute",{selected:n===i}),style:{gridArea:`a${o+1}`},onClick:()=>a(i)},`${r==="minus"?"-":"+"}${s}`))));T.__docgenInfo={description:"",methods:[],displayName:"ToleranceRangeGrid",props:{onSelection:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},selectedTolerance:{required:!0,tsType:{name:"number"},description:""},toleranceSign:{required:!0,tsType:{name:"union",raw:"'minus' | 'plus'",elements:[{name:"literal",value:"'minus'"},{name:"literal",value:"'plus'"}]},description:""}}};const c=[{label:"00",value:0},{label:"05",value:300},{label:"10",value:600},{label:"15",value:900},{label:"20",value:1200},{label:"25",value:1500},{label:"30",value:1800},{label:"35",value:2100},{label:"40",value:2400},{label:"45",value:2700},{label:"1h00",value:3600},{label:"1h15",value:4500},{label:"1h30",value:5400},{label:"1h45",value:6300},{label:"2h00",value:7200},{label:"2h30",value:9e3},{label:"3h00",value:10800},{label:"3h30",value:12600},{label:"4h00",value:14400}],b=({onToleranceChange:a,toleranceValues:{minusTolerance:n,plusTolerance:r}={minusTolerance:c[0].value,plusTolerance:c[0].value},translateWarningMessage:s,...i})=>{const o=(l,m)=>{var t,k;return`-${((t=c[l])==null?void 0:t.label)||""}/+${((k=c[m])==null?void 0:k.label)||""}`},[g,f]=u.useState(!1),[x,_]=u.useState(o(0,0)),[$,E]=u.useState(void 0),y=u.useRef(null);return u.useEffect(()=>{const l=c.findIndex(t=>t.value===n),m=c.findIndex(t=>t.value===r);if(l<0||m<0){const t=l<0?n:r;E({status:"warning",message:(s==null?void 0:s(t))||`${t} is not a valid tolerance value.`})}else E(void 0);_(o(l,m))},[n,r]),e.createElement("div",{className:"tolerance-picker"},e.createElement("div",null,e.createElement(G,{...i,value:x,statusWithMessage:$,onClick:()=>f(!g),type:"text",ref:y})),e.createElement(C,{inputRef:y,isOpen:g,onClose:()=>f(!1)},e.createElement("div",{className:"time-tolerance"},e.createElement(T,{onSelection:l=>a({minusTolerance:l,plusTolerance:r}),selectedTolerance:n,toleranceSign:"minus"}),e.createElement("div",{className:"divider"}),e.createElement(T,{onSelection:l=>a({minusTolerance:n,plusTolerance:l}),selectedTolerance:r,toleranceSign:"plus"}))))};b.__docgenInfo={description:"",methods:[],displayName:"TolerancePicker",props:{onToleranceChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(toleranceValues: ToleranceValues) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  minusTolerance: number;
  plusTolerance: number;
}`,signature:{properties:[{key:"minusTolerance",value:{name:"number",required:!0}},{key:"plusTolerance",value:{name:"number",required:!0}}]}},name:"toleranceValues"}],return:{name:"void"}}},description:""},toleranceValues:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  minusTolerance: number;
  plusTolerance: number;
}`,signature:{properties:[{key:"minusTolerance",value:{name:"number",required:!0}},{key:"plusTolerance",value:{name:"number",required:!0}}]}},description:"",defaultValue:{value:`{
  minusTolerance: TOLERANCE_RANGES[0].value,
  plusTolerance: TOLERANCE_RANGES[0].value,
}`,computed:!1}},translateWarningMessage:{required:!1,tsType:{name:"signature",type:"function",raw:"(invalidTolerance: number) => string",signature:{arguments:[{type:{name:"number"},name:"invalidTolerance"}],return:{name:"string"}}},description:""}}};const O=a=>{const[n,r]=u.useState(a.toleranceValues),s=({minusTolerance:i,plusTolerance:o})=>{r({minusTolerance:i,plusTolerance:o})};return u.useEffect(()=>{a.toleranceValues&&r(a.toleranceValues)},[a.toleranceValues]),e.createElement(b,{...a,toleranceValues:n,onToleranceChange:s})},Q={component:b,args:{label:"TolerancePicker",id:"time-picker"},argTypes:{toleranceValues:{minusTolerance:"number",plusTolerance:"number"}},title:"core/TolerancePicker",tags:["autodocs"],decorators:[a=>e.createElement("div",{style:{maxWidth:"11em"}},e.createElement(a,null))],render:O},d={args:{label:"Tolerance"}},p={args:{disabled:!0,label:"Tolerance"}},v={args:{toleranceValues:{minusTolerance:200,plusTolerance:600},label:"Tolerance"}};var S,V,h;d.parameters={...d.parameters,docs:{...(S=d.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    label: 'Tolerance'
  }
}`,...(h=(V=d.parameters)==null?void 0:V.docs)==null?void 0:h.source}}};var N,R,I;p.parameters={...p.parameters,docs:{...(N=p.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    disabled: true,
    label: 'Tolerance'
  }
}`,...(I=(R=p.parameters)==null?void 0:R.docs)==null?void 0:I.source}}};var P,q,w;v.parameters={...v.parameters,docs:{...(P=v.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    toleranceValues: {
      minusTolerance: 200,
      plusTolerance: 600
    },
    label: 'Tolerance'
  }
}`,...(w=(q=v.parameters)==null?void 0:q.docs)==null?void 0:w.source}}};const U=["Default","DisabledTolerancePicker","WarningTolerancePicker"];export{d as Default,p as DisabledTolerancePicker,v as WarningTolerancePicker,U as __namedExportsOrder,Q as default};
