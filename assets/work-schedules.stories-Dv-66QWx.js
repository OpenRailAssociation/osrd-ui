import{r as u,R as m}from"./index-RYns6xqu.js";/* empty css              */import{u as w,S as O,a as E,O as x,P as y}from"./paths-OTZaEske.js";import{g as T}from"./vectors-BiytCEVh.js";import"./index-Cm1LdsEh.js";import"./lodash-CcdATr5u.js";import"./index-CHvE9HB5.js";const P=({timeStart:l,timeEnd:s,spaceStart:r,spaceEnd:i,imageElement:e})=>{const o=u.useCallback((t,{getSpacePixel:n,getTimePixel:c,spaceAxis:d})=>{const f=c(Number(l)),a=c(Number(s)),p=n(r),S=n(i)-p,g=a-f;if(!S||!g)return;const h=t.createPattern(e,"repeat");h&&(t.save(),t.fillStyle=h,d==="x"?(t.translate(p,f),t.fillRect(0,0,S,g)):(t.translate(f,p),t.fillRect(0,0,g,S)),t.restore())},[l,s,r,i,e]);return w("background",o),null},R=({workSchedules:l,imageUrl:s})=>{const[r,i]=u.useState();return u.useEffect(()=>{if(s){const e=new Image;e.src=s,e.onload=()=>{i(e)}}},[s]),r?l.flatMap(e=>e.spaceRanges.map(([o,t])=>m.createElement(P,{key:`${e.type}-${e.timeStart}-${e.timeEnd}-${o}-${t}`,timeStart:e.timeStart,timeEnd:e.timeEnd,spaceStart:o,spaceEnd:t,imageElement:r}))):null},k="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='56px'%20height='56px'%20viewBox='0%200%2056%2056'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3eAssets/Maintenance/ScheduledMaintenanceUp%3c/title%3e%3cg%20id='Assets/Maintenance/ScheduledMaintenanceUp'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M56,0%20L56,28%20L28,56%20L0,56%20L56,0%20Z%20M28,0%20L0,28%20L0,0%20L28,0%20Z'%20id='Shape'%20fill='%23F5F5F5'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",D=[{type:"TRACK",timeStart:new Date("2024-04-02T00:00:00Z"),timeEnd:new Date("2024-04-02T00:15:00Z"),spaceRanges:[[2e4,35e3],[45e3,6e4]]},{type:"TRACK",timeStart:new Date("2024-04-02T00:15:00Z"),timeEnd:new Date("2024-04-02T01:00:00Z"),spaceRanges:[[8e4,1e5],[11e4,14e4]]},{type:"TRACK",timeStart:new Date("2024-04-02T01:30:00Z"),timeEnd:new Date("2024-04-02T02:30:00Z"),spaceRanges:[[5e4,1e5]]}],L=550,v=({operationalPoints:l=[],paths:s=[],workSchedules:r})=>{const[i,e]=u.useState({xOffset:-300,yOffset:0,panning:null}),o=l.map(({id:n,position:c})=>({id:n,label:n,position:c})),t=[{from:0,to:75e3,coefficient:300}];return m.createElement("div",{className:"manchette-space-time-chart-wrapper",style:{height:`${L}px`}},m.createElement(O,{className:"inset-0 absolute h-full",spaceOrigin:0,xOffset:i.xOffset,yOffset:i.yOffset,timeOrigin:+new Date("2024/04/02"),operationalPoints:o,timeScale:1e4,spaceScales:t,onPan:({initialPosition:n,position:c,isPanning:d})=>{const f=T(n,c);e(a=>{if(d)if(a.panning){const{initialOffset:p}=a.panning;return{...a,xOffset:p.x+f.x,yOffset:p.y+f.y}}else return{...a,panning:{initialOffset:{x:a.xOffset,y:a.yOffset}}};else return{...a,panning:null}})}},s.map(n=>m.createElement(E,{key:n.id,path:n,color:n.color})),m.createElement(R,{workSchedules:r,imageUrl:k})))},$={title:"SpaceTimeChart/Workschedules",component:v},F={args:{operationalPoints:x,paths:y.slice(2,4),workSchedules:D}},W=["Default"];export{F as Default,W as __namedExportsOrder,$ as default};
