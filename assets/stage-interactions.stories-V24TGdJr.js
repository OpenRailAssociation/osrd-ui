import{r as x,R as r}from"./index-RYns6xqu.js";import{c as g}from"./index-Cm1LdsEh.js";import{X as Z,Y as L,M as _,a as M,b as E,c as S}from"./utils-2YTZCScs.js";import{S as b,O as l,P as d,a as v}from"./paths-OTZaEske.js";import"./lodash-CcdATr5u.js";import"./index-CHvE9HB5.js";import{g as P}from"./vectors-BiytCEVh.js";const h=({xPan:f,yPan:m,xZoom:c,yZoom:p,spaceScaleType:y})=>{const[t,u]=x.useState({xOffset:0,yOffset:0,xZoomLevel:Z,yZoomLevel:L,panning:null});return r.createElement("div",{className:"inset-0"},r.createElement(b,{className:g("inset-0 absolute p-0 m-0",t.panning&&"cursor-grabbing"),operationalPoints:l,spaceOrigin:0,spaceScales:l.slice(0,-1).map((a,o)=>({from:a.position,to:l[o+1].position,...y==="linear"?{size:50*t.yZoomLevel}:{coefficient:150/t.yZoomLevel}})),timeOrigin:+new Date("2024/04/02"),timeScale:6e4/t.xZoomLevel,xOffset:t.xOffset,yOffset:t.yOffset,onPan:({initialPosition:a,position:o,isPanning:n})=>{if(!f&&!m)return;const s=P(a,o);u(e=>{if(n)if(e.panning){const{initialOffset:O}=e.panning,i={...t};return f&&(i.xOffset=O.x+s.x),m&&(i.yOffset=O.y+s.y),i}else return{...e,panning:{initialOffset:{x:t.xOffset,y:t.yOffset}}};else return{...e,panning:null}})},onZoom:({delta:a,position:{x:o,y:n}})=>{!c&&!p||u(s=>{const e={...s};return c&&(e.xZoomLevel=Math.min(Math.max(e.xZoomLevel*(1+a/10),_),M),e.xOffset=o-(o-t.xOffset)/t.xZoomLevel*e.xZoomLevel),p&&(e.yZoomLevel=Math.min(Math.max(e.yZoomLevel*(1+a/10),E),S),e.yOffset=n-(n-t.yOffset)/t.yZoomLevel*e.yZoomLevel),e})}},d.map(a=>r.createElement(v,{key:a.id,path:a,color:a.color}))))},I={title:"SpaceTimeChart/Panning and zooming",component:h,argTypes:{xPan:{name:"Enable panning on the X axis?",defaultValue:!0,control:{type:"boolean"}},yPan:{name:"Enable panning on the Y axis?",defaultValue:!0,control:{type:"boolean"}},xZoom:{name:"Enable zooming on the X axis?",defaultValue:!0,control:{type:"boolean"}},yZoom:{name:"Enable zooming on the Y axis?",defaultValue:!0,control:{type:"boolean"}},spaceScaleType:{name:"Space scaling type",options:["linear","proportional"],defaultValue:"linear",control:{type:"radio"}}}},z={name:"Default arguments",args:{xPan:!0,yPan:!0,xZoom:!0,yZoom:!0,spaceScaleType:"linear"}},w=["DefaultArgs"];export{z as DefaultArgs,w as __namedExportsOrder,I as default};
