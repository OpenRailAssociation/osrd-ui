import{r as y,R as n}from"./index-RYns6xqu.js";import{c as S}from"./index-Cm1LdsEh.js";import{F as h}from"./FileSaver.min-BuSrJj1z.js";import{X as v,Y as Z,M as b,a as M,b as E,c as _}from"./utils-BdV3spGV.js";import{S as A,O as m,P,a as T,C}from"./paths-BB683TMT.js";import"./lodash-CcdATr5u.js";import"./index-CHvE9HB5.js";import{M as w}from"./components-BNWsAftZ.js";import{g as N}from"./vectors-BMNFZSin.js";const V=()=>{const{captureCanvases:i}=y.useContext(C);return n.createElement("div",{style:{position:"absolute",right:10,bottom:10}},n.createElement("button",{onClick:()=>i().then(p=>h.saveAs(p,"space-time-chart.png"))},"Export to PNG"))},D=({enableSnapping:i,hideGrid:p,hidePathsLabels:g,swapAxis:x,spaceScaleType:L})=>{const[a,f]=y.useState({xOffset:0,yOffset:0,xZoomLevel:v,yZoomLevel:Z,panning:null});return n.createElement("div",{className:"inset-0"},n.createElement(A,{className:S("inset-0 absolute overflow-hidden p-0 m-0",a.panning&&"cursor-grabbing"),enableSnapping:i,hideGrid:p,hidePathsLabels:g,swapAxis:x,operationalPoints:m,spaceOrigin:0,spaceScales:m.slice(0,-1).map((t,o)=>({from:t.position,to:m[o+1].position,...L==="linear"?{size:50*a.yZoomLevel}:{coefficient:150/a.yZoomLevel}})),timeOrigin:+new Date("2024/04/02"),timeScale:6e4/a.xZoomLevel,xOffset:a.xOffset,yOffset:a.yOffset,onPan:({initialPosition:t,position:o,isPanning:s})=>{const r=N(t,o);f(e=>{if(s)if(e.panning){const{initialOffset:c}=e.panning;return{...e,xOffset:c.x+r.x,yOffset:c.y+r.y}}else return{...e,panning:{initialOffset:{x:e.xOffset,y:e.yOffset}}};else return{...e,panning:null}})},onZoom:({delta:t,position:{x:o,y:s}})=>{f(r=>{const e={...r};return e.xZoomLevel=Math.min(Math.max(e.xZoomLevel*(1+t/10),b),M),e.yZoomLevel=Math.min(Math.max(e.yZoomLevel*(1+t/10),E),_),e.xOffset=o-(o-a.xOffset)/a.xZoomLevel*e.xZoomLevel,e.yOffset=s-(s-a.yOffset)/a.yZoomLevel*e.yZoomLevel,e})}},P.map(t=>n.createElement(T,{key:t.id,path:t,color:t.color})),n.createElement(w,null),n.createElement(V,null)))},B={title:"SpaceTimeChart/Options",component:D,argTypes:{enableSnapping:{name:"Enable snapping?",defaultValue:!0,control:{type:"boolean"}},hideGrid:{name:"Hide grid?",defaultValue:!1,control:{type:"boolean"}},hidePathsLabels:{name:"Hide paths labels?",defaultValue:!1,control:{type:"boolean"}},swapAxis:{name:"Swap time and space axis?",defaultValue:!1,control:{type:"boolean"}},spaceScaleType:{name:"Space scaling type",options:["linear","proportional"],defaultValue:"linear",control:{type:"radio"}}}},l={name:"Default arguments",args:{enableSnapping:!0,hideGrid:!1,hidePathsLabels:!1,swapAxis:!1,spaceScaleType:"linear"}};var u,O,d;l.parameters={...l.parameters,docs:{...(u=l.parameters)==null?void 0:u.docs,source:{originalSource:`{
  name: 'Default arguments',
  args: {
    enableSnapping: true,
    hideGrid: false,
    hidePathsLabels: false,
    swapAxis: false,
    spaceScaleType: 'linear'
  }
}`,...(d=(O=l.parameters)==null?void 0:O.docs)==null?void 0:d.source}}};const W=["DefaultArgs"];export{l as DefaultArgs,W as __namedExportsOrder,B as default};
