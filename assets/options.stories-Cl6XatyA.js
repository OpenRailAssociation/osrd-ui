import{r as c,R as o}from"./index-RYns6xqu.js";import{c as x}from"./index-Cm1LdsEh.js";import{F as d}from"./FileSaver.min-BuSrJj1z.js";import{X as g,Y as L,M as v,a as Z,b as S,c as b}from"./utils-2YTZCScs.js";import{S as h,O as f,P as M,a as E,C as _}from"./paths-OTZaEske.js";import"./lodash-CcdATr5u.js";import"./index-CHvE9HB5.js";import{M as A}from"./components-BtnTWRcn.js";import{g as P}from"./vectors-BiytCEVh.js";const T=()=>{const{captureCanvases:i}=c.useContext(_);return o.createElement("div",{style:{position:"absolute",right:10,bottom:10}},o.createElement("button",{onClick:()=>i().then(r=>d.saveAs(r,"space-time-chart.png"))},"Export to PNG"))},C=({enableSnapping:i,hideGrid:r,hidePathsLabels:u,swapAxis:O,spaceScaleType:y})=>{const[t,m]=c.useState({xOffset:0,yOffset:0,xZoomLevel:g,yZoomLevel:L,panning:null});return o.createElement("div",{className:"inset-0"},o.createElement(h,{className:x("inset-0 absolute overflow-hidden p-0 m-0",t.panning&&"cursor-grabbing"),enableSnapping:i,hideGrid:r,hidePathsLabels:u,swapAxis:O,operationalPoints:f,spaceOrigin:0,spaceScales:f.slice(0,-1).map((a,n)=>({from:a.position,to:f[n+1].position,...y==="linear"?{size:50*t.yZoomLevel}:{coefficient:150/t.yZoomLevel}})),timeOrigin:+new Date("2024/04/02"),timeScale:6e4/t.xZoomLevel,xOffset:t.xOffset,yOffset:t.yOffset,onPan:({initialPosition:a,position:n,isPanning:s})=>{const l=P(a,n);m(e=>{if(s)if(e.panning){const{initialOffset:p}=e.panning;return{...e,xOffset:p.x+l.x,yOffset:p.y+l.y}}else return{...e,panning:{initialOffset:{x:e.xOffset,y:e.yOffset}}};else return{...e,panning:null}})},onZoom:({delta:a,position:{x:n,y:s}})=>{m(l=>{const e={...l};return e.xZoomLevel=Math.min(Math.max(e.xZoomLevel*(1+a/10),v),Z),e.yZoomLevel=Math.min(Math.max(e.yZoomLevel*(1+a/10),S),b),e.xOffset=n-(n-t.xOffset)/t.xZoomLevel*e.xZoomLevel,e.yOffset=s-(s-t.yOffset)/t.yZoomLevel*e.yZoomLevel,e})}},M.map(a=>o.createElement(E,{key:a.id,path:a,color:a.color})),o.createElement(A,null),o.createElement(T,null)))},H={title:"SpaceTimeChart/Options",component:C,argTypes:{enableSnapping:{name:"Enable snapping?",defaultValue:!0,control:{type:"boolean"}},hideGrid:{name:"Hide grid?",defaultValue:!1,control:{type:"boolean"}},hidePathsLabels:{name:"Hide paths labels?",defaultValue:!1,control:{type:"boolean"}},swapAxis:{name:"Swap time and space axis?",defaultValue:!1,control:{type:"boolean"}},spaceScaleType:{name:"Space scaling type",options:["linear","proportional"],defaultValue:"linear",control:{type:"radio"}}}},R={name:"Default arguments",args:{enableSnapping:!0,hideGrid:!1,hidePathsLabels:!1,swapAxis:!1,spaceScaleType:"linear"}},F=["DefaultArgs"];export{R as DefaultArgs,F as __namedExportsOrder,H as default};
